<!-- Page header -->
<div class="page-header">
  <div class="brand">To-Do List</div>
</div>

<!-- Date pill -->
<div class="date-pill">
  <label for="date-input">Date:</label>
  <input id="date-input" type="date" [(ngModel)]="selectedDate" (ngModelChange)="loadTasks()">
</div>

<!-- To-Do Card -->
<div class="todo-card" role="application" aria-label="To-do list card">
  <div class="add-row">
    <input
      id="todo-input"
      type="text"
      placeholder="Add a todo and press Add or Enter"
      [(ngModel)]="newTodo"
      (keyup.enter)="createTodo()"
    >
    <button class="btn-add" type="button" (click)="createTodo()">Add Task</button>
  </div>

  <div class="todo-grid" id="todo-container">
    <div class="todo-col">
      <ul class="todo-list">
        <li *ngFor="let task of tasks | slice:0:tasks.length/2">
          <input
            type="checkbox"
            [checked]="task.completed"
            (change)="toggleTaskCompletion(task)"
          >
          <span
            [ngClass]="{ 'completed': task.completed }"
            contenteditable="true"
            (blur)="editTask(task.id, getTextFromEvent($event))"
          >{{ task.text }}</span>
          <button class="btn-delete" (click)="deleteTask(task.id)">Delete</button>
        </li>
      </ul>
    </div>
    <div class="todo-col">
      <ul class="todo-list">
        <li *ngFor="let task of tasks | slice:tasks.length/2">
          <input
            type="checkbox"
            [checked]="task.completed"
            (change)="toggleTaskCompletion(task)"
          >
          <span
            [ngClass]="{ 'completed': task.completed }"
            contenteditable="true"
            (blur)="editTask(task.id, getTextFromEvent($event))"
          >{{ task.text }}</span>
          <button class="btn-delete" (click)="deleteTask(task.id)">Delete</button>
        </li>
      </ul>
    </div>
  </div>
</div>
